<p>module.s3_alb_access_log.data.aws_elb_service_account.main: Reading...</p><p>module.s3_alb_access_log.data.aws_elb_service_account.main: Read complete after 0s [id=582318560864]</p><p></p><p>Terraform used the selected providers to generate the following execution</p><p>plan. Resource actions are indicated with the following symbols:</p><p>+ create</p><p><= read (data resources)</p><p></p><p>Terraform will perform the following actions:</p><p></p><p># module.alb.aws_lb.alb will be created</p><p>+ resource "aws_lb" "alb" {</p><p>+ arn                        = (known after apply)</p><p>+ arn_suffix                 = (known after apply)</p><p>+ desync_mitigation_mode     = "defensive"</p><p>+ dns_name                   = (known after apply)</p><p>+ drop_invalid_header_fields = false</p><p>+ enable_deletion_protection = false</p><p>+ enable_http2               = true</p><p>+ enable_waf_fail_open       = false</p><p>+ id                         = (known after apply)</p><p>+ idle_timeout               = 60</p><p>+ internal                   = false</p><p>+ ip_address_type            = "ipv4"</p><p>+ load_balancer_type         = "application"</p><p>+ name                       = "example-dev-alb"</p><p>+ preserve_host_header       = false</p><p>+ security_groups            = (known after apply)</p><p>+ subnets                    = (known after apply)</p><p>+ tags                       = {</p><p>+ "Name" = "example-dev-alb"</p><p>}</p><p>+ tags_all                   = {</p><p>+ "Name" = "example-dev-alb"</p><p>}</p><p>+ vpc_id                     = (known after apply)</p><p>+ zone_id                    = (known after apply)</p><p></p><p>+ access_logs {</p><p>+ bucket  = (known after apply)</p><p>+ enabled = true</p><p>+ prefix  = "example"</p><p>}</p><p></p><p>+ subnet_mapping {</p><p>+ allocation_id        = (known after apply)</p><p>+ ipv6_address         = (known after apply)</p><p>+ outpost_id           = (known after apply)</p><p>+ private_ipv4_address = (known after apply)</p><p>+ subnet_id            = (known after apply)</p><p>}</p><p>}</p><p></p><p># module.alb.aws_lb_listener.alb-listener will be created</p><p>+ resource "aws_lb_listener" "alb-listener" {</p><p>+ arn               = (known after apply)</p><p>+ id                = (known after apply)</p><p>+ load_balancer_arn = (known after apply)</p><p>+ port              = 80</p><p>+ protocol          = "HTTP"</p><p>+ ssl_policy        = (known after apply)</p><p>+ tags_all          = (known after apply)</p><p></p><p>+ default_action {</p><p>+ order            = (known after apply)</p><p>+ target_group_arn = (known after apply)</p><p>+ type             = "forward"</p><p>}</p><p>}</p><p></p><p># module.alb.aws_lb_target_group.tg will be created</p><p>+ resource "aws_lb_target_group" "tg" {</p><p>+ arn                                = (known after apply)</p><p>+ arn_suffix                         = (known after apply)</p><p>+ connection_termination             = false</p><p>+ deregistration_delay               = "300"</p><p>+ id                                 = (known after apply)</p><p>+ ip_address_type                    = (known after apply)</p><p>+ lambda_multi_value_headers_enabled = false</p><p>+ load_balancing_algorithm_type      = (known after apply)</p><p>+ name                               = "example-dev-tg"</p><p>+ port                               = 80</p><p>+ preserve_client_ip                 = (known after apply)</p><p>+ protocol                           = "HTTP"</p><p>+ protocol_version                   = "HTTP1"</p><p>+ proxy_protocol_v2                  = false</p><p>+ slow_start                         = 0</p><p>+ tags                               = {</p><p>+ "Name" = "example-dev-tg"</p><p>}</p><p>+ tags_all                           = {</p><p>+ "Name" = "example-dev-tg"</p><p>}</p><p>+ target_type                        = "instance"</p><p>+ vpc_id                             = (known after apply)</p><p></p><p>+ health_check {</p><p>+ enabled             = true</p><p>+ healthy_threshold   = 5</p><p>+ interval            = 30</p><p>+ matcher             = "200"</p><p>+ path                = "/healthcheck.txt"</p><p>+ port                = "traffic-port"</p><p>+ protocol            = "HTTP"</p><p>+ timeout             = 5</p><p>+ unhealthy_threshold = 5</p><p>}</p><p></p><p>+ stickiness {</p><p>+ cookie_duration = (known after apply)</p><p>+ cookie_name     = (known after apply)</p><p>+ enabled         = (known after apply)</p><p>+ type            = (known after apply)</p><p>}</p><p></p><p>+ target_failover {</p><p>+ on_deregistration = (known after apply)</p><p>+ on_unhealthy      = (known after apply)</p><p>}</p><p>}</p><p></p><p># module.alb.aws_lb_target_group_attachment.attach_tg-to-alb[0] will be created</p><p>+ resource "aws_lb_target_group_attachment" "attach_tg-to-alb" {</p><p>+ id               = (known after apply)</p><p>+ port             = 80</p><p>+ target_group_arn = (known after apply)</p><p>+ target_id        = (known after apply)</p><p>}</p><p></p><p># module.alb_http_sg.aws_security_group.default will be created</p><p>+ resource "aws_security_group" "default" {</p><p>+ arn                    = (known after apply)</p><p>+ description            = "Managed by Terraform"</p><p>+ egress                 = (known after apply)</p><p>+ id                     = (known after apply)</p><p>+ ingress                = (known after apply)</p><p>+ name                   = "example-dev-alb_http-sg"</p><p>+ name_prefix            = (known after apply)</p><p>+ owner_id               = (known after apply)</p><p>+ revoke_rules_on_delete = false</p><p>+ tags                   = {</p><p>+ "Name" = "example-dev-alb_http-sg"</p><p>}</p><p>+ tags_all               = {</p><p>+ "Name" = "example-dev-alb_http-sg"</p><p>}</p><p>+ vpc_id                 = (known after apply)</p><p>}</p><p></p><p># module.alb_http_sg.aws_security_group_rule.egress will be created</p><p>+ resource "aws_security_group_rule" "egress" {</p><p>+ cidr_blocks              = [</p><p>+ "0.0.0.0/0",</p><p>]</p><p>+ from_port                = 0</p><p>+ id                       = (known after apply)</p><p>+ protocol                 = "-1"</p><p>+ security_group_id        = (known after apply)</p><p>+ security_group_rule_id   = (known after apply)</p><p>+ self                     = false</p><p>+ source_security_group_id = (known after apply)</p><p>+ to_port                  = 0</p><p>+ type                     = "egress"</p><p>}</p><p></p><p># module.alb_http_sg.aws_security_group_rule.ingress will be created</p><p>+ resource "aws_security_group_rule" "ingress" {</p><p>+ cidr_blocks              = [</p><p>+ "0.0.0.0/0",</p><p>]</p><p>+ from_port                = 80</p><p>+ id                       = (known after apply)</p><p>+ protocol                 = "tcp"</p><p>+ security_group_id        = (known after apply)</p><p>+ security_group_rule_id   = (known after apply)</p><p>+ self                     = false</p><p>+ source_security_group_id = (known after apply)</p><p>+ to_port                  = 80</p><p>+ type                     = "ingress"</p><p>}</p><p></p><p># module.alb_https_sg.aws_security_group.default will be created</p><p>+ resource "aws_security_group" "default" {</p><p>+ arn                    = (known after apply)</p><p>+ description            = "Managed by Terraform"</p><p>+ egress                 = (known after apply)</p><p>+ id                     = (known after apply)</p><p>+ ingress                = (known after apply)</p><p>+ name                   = "example-dev-alb_https-sg"</p><p>+ name_prefix            = (known after apply)</p><p>+ owner_id               = (known after apply)</p><p>+ revoke_rules_on_delete = false</p><p>+ tags                   = {</p><p>+ "Name" = "example-dev-alb_https-sg"</p><p>}</p><p>+ tags_all               = {</p><p>+ "Name" = "example-dev-alb_https-sg"</p><p>}</p><p>+ vpc_id                 = (known after apply)</p><p>}</p><p></p><p># module.alb_https_sg.aws_security_group_rule.egress will be created</p><p>+ resource "aws_security_group_rule" "egress" {</p><p>+ cidr_blocks              = [</p><p>+ "0.0.0.0/0",</p><p>]</p><p>+ from_port                = 0</p><p>+ id                       = (known after apply)</p><p>+ protocol                 = "-1"</p><p>+ security_group_id        = (known after apply)</p><p>+ security_group_rule_id   = (known after apply)</p><p>+ self                     = false</p><p>+ source_security_group_id = (known after apply)</p><p>+ to_port                  = 0</p><p>+ type                     = "egress"</p><p>}</p><p></p><p># module.alb_https_sg.aws_security_group_rule.ingress will be created</p><p>+ resource "aws_security_group_rule" "ingress" {</p><p>+ cidr_blocks              = [</p><p>+ "0.0.0.0/0",</p><p>]</p><p>+ from_port                = 443</p><p>+ id                       = (known after apply)</p><p>+ protocol                 = "tcp"</p><p>+ security_group_id        = (known after apply)</p><p>+ security_group_rule_id   = (known after apply)</p><p>+ self                     = false</p><p>+ source_security_group_id = (known after apply)</p><p>+ to_port                  = 443</p><p>+ type                     = "ingress"</p><p>}</p><p></p><p># module.ec2.aws_eip.eip_ec2[0] will be created</p><p>+ resource "aws_eip" "eip_ec2" {</p><p>+ allocation_id        = (known after apply)</p><p>+ association_id       = (known after apply)</p><p>+ carrier_ip           = (known after apply)</p><p>+ customer_owned_ip    = (known after apply)</p><p>+ domain               = (known after apply)</p><p>+ id                   = (known after apply)</p><p>+ instance             = (known after apply)</p><p>+ network_border_group = (known after apply)</p><p>+ network_interface    = (known after apply)</p><p>+ private_dns          = (known after apply)</p><p>+ private_ip           = (known after apply)</p><p>+ public_dns           = (known after apply)</p><p>+ public_ip            = (known after apply)</p><p>+ public_ipv4_pool     = (known after apply)</p><p>+ tags                 = {</p><p>+ "Name" = "example-dev-eip01"</p><p>}</p><p>+ tags_all             = {</p><p>+ "Name" = "example-dev-eip01"</p><p>}</p><p>+ vpc                  = true</p><p>}</p><p></p><p># module.ec2.aws_instance.ec2-web[0] will be created</p><p>+ resource "aws_instance" "ec2-web" {</p><p>+ ami                                  = "ami-0d889f77081190db1"</p><p>+ arn                                  = (known after apply)</p><p>+ associate_public_ip_address          = (known after apply)</p><p>+ availability_zone                    = (known after apply)</p><p>+ cpu_core_count                       = (known after apply)</p><p>+ cpu_threads_per_core                 = (known after apply)</p><p>+ disable_api_stop                     = (known after apply)</p><p>+ disable_api_termination              = (known after apply)</p><p>+ ebs_optimized                        = (known after apply)</p><p>+ get_password_data                    = false</p><p>+ host_id                              = (known after apply)</p><p>+ host_resource_group_arn              = (known after apply)</p><p>+ iam_instance_profile                 = (known after apply)</p><p>+ id                                   = (known after apply)</p><p>+ instance_initiated_shutdown_behavior = (known after apply)</p><p>+ instance_state                       = (known after apply)</p><p>+ instance_type                        = "t3.micro"</p><p>+ ipv6_address_count                   = (known after apply)</p><p>+ ipv6_addresses                       = (known after apply)</p><p>+ key_name                             = (known after apply)</p><p>+ monitoring                           = (known after apply)</p><p>+ outpost_arn                          = (known after apply)</p><p>+ password_data                        = (known after apply)</p><p>+ placement_group                      = (known after apply)</p><p>+ placement_partition_number           = (known after apply)</p><p>+ primary_network_interface_id         = (known after apply)</p><p>+ private_dns                          = (known after apply)</p><p>+ private_ip                           = (known after apply)</p><p>+ public_dns                           = (known after apply)</p><p>+ public_ip                            = (known after apply)</p><p>+ secondary_private_ips                = (known after apply)</p><p>+ security_groups                      = (known after apply)</p><p>+ source_dest_check                    = true</p><p>+ subnet_id                            = (known after apply)</p><p>+ tags                                 = {</p><p>+ "Name" = "example-dev-web01"</p><p>}</p><p>+ tags_all                             = {</p><p>+ "Name" = "example-dev-web01"</p><p>}</p><p>+ tenancy                              = (known after apply)</p><p>+ user_data                            = (known after apply)</p><p>+ user_data_base64                     = (known after apply)</p><p>+ user_data_replace_on_change          = false</p><p>+ vpc_security_group_ids               = (known after apply)</p><p></p><p>+ capacity_reservation_specification {</p><p>+ capacity_reservation_preference = (known after apply)</p><p></p><p>+ capacity_reservation_target {</p><p>+ capacity_reservation_id                 = (known after apply)</p><p>+ capacity_reservation_resource_group_arn = (known after apply)</p><p>}</p><p>}</p><p></p><p>+ ebs_block_device {</p><p>+ delete_on_termination = (known after apply)</p><p>+ device_name           = (known after apply)</p><p>+ encrypted             = (known after apply)</p><p>+ iops                  = (known after apply)</p><p>+ kms_key_id            = (known after apply)</p><p>+ snapshot_id           = (known after apply)</p><p>+ tags                  = (known after apply)</p><p>+ throughput            = (known after apply)</p><p>+ volume_id             = (known after apply)</p><p>+ volume_size           = (known after apply)</p><p>+ volume_type           = (known after apply)</p><p>}</p><p></p><p>+ enclave_options {</p><p>+ enabled = (known after apply)</p><p>}</p><p></p><p>+ ephemeral_block_device {</p><p>+ device_name  = (known after apply)</p><p>+ no_device    = (known after apply)</p><p>+ virtual_name = (known after apply)</p><p>}</p><p></p><p>+ maintenance_options {</p><p>+ auto_recovery = (known after apply)</p><p>}</p><p></p><p>+ metadata_options {</p><p>+ http_endpoint               = (known after apply)</p><p>+ http_put_response_hop_limit = (known after apply)</p><p>+ http_tokens                 = (known after apply)</p><p>+ instance_metadata_tags      = (known after apply)</p><p>}</p><p></p><p>+ network_interface {</p><p>+ delete_on_termination = (known after apply)</p><p>+ device_index          = (known after apply)</p><p>+ network_card_index    = (known after apply)</p><p>+ network_interface_id  = (known after apply)</p><p>}</p><p></p><p>+ private_dns_name_options {</p><p>+ enable_resource_name_dns_a_record    = (known after apply)</p><p>+ enable_resource_name_dns_aaaa_record = (known after apply)</p><p>+ hostname_type                        = (known after apply)</p><p>}</p><p></p><p>+ root_block_device {</p><p>+ delete_on_termination = true</p><p>+ device_name           = (known after apply)</p><p>+ encrypted             = (known after apply)</p><p>+ iops                  = (known after apply)</p><p>+ kms_key_id            = (known after apply)</p><p>+ throughput            = (known after apply)</p><p>+ volume_id             = (known after apply)</p><p>+ volume_size           = 100</p><p>+ volume_type           = "gp2"</p><p>}</p><p>}</p><p></p><p># module.ec2.aws_key_pair.key will be created</p><p>+ resource "aws_key_pair" "key" {</p><p>+ arn             = (known after apply)</p><p>+ fingerprint     = (known after apply)</p><p>+ id              = (known after apply)</p><p>+ key_name        = "example.pub"</p><p>+ key_name_prefix = (known after apply)</p><p>+ key_pair_id     = (known after apply)</p><p>+ key_type        = (known after apply)</p><p>+ public_key      = "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQDCmwM9Cj05XB4jLypqhRfKcNr+uHnNidfy2mNSH/PRGtPhdGEteE5ELuTjcic/0MFe71gR+JWVeVJNbMXo00K+ADY1yU2IdzCIJ7J1I2IO1r/6vhZbMUSwnhF7FGvoAEfF1iPYynbMB7u/W2gwaFi1aIpCVn6WRKGlm01NQPsElEowxeL+eXzfnd7Z/NVxUq6yJ6Z9jCoo+0htso2B7tTc0g3iYYyxVGyh8HhZbTJDB/amN95fKnURDHly+gtfiRN3YE5fvtKzgJ0jv7u6JAdu/jxmBziyTcAs0XtKUjO0xrpl5r8dEvMzrxBCspGdnvBqPlRDefONyAL6+axlBMGwLRP995DWfhn1y95XAtc6bFXgHyMZEP9dei4vAnBlTrQqK6rBR7nhXfi5HTwaCKs+rVlzbJqGIgpJlRtM4QHT2QH6qvara/OHj14yA7Y5N3CcBTr8j8pz7O3AcNHPxizBpdfMXnq24vZjM5J/Xj3GBIB9nNCbQ1xAzXpkiC76css= takahiro@LAPTOP-SH6S649R"</p><p>+ tags_all        = (known after apply)</p><p>}</p><p></p><p># module.internal_sg.aws_security_group.default will be created</p><p>+ resource "aws_security_group" "default" {</p><p>+ arn                    = (known after apply)</p><p>+ description            = "Managed by Terraform"</p><p>+ egress                 = (known after apply)</p><p>+ id                     = (known after apply)</p><p>+ ingress                = (known after apply)</p><p>+ name                   = "example-dev-internal-sg"</p><p>+ name_prefix            = (known after apply)</p><p>+ owner_id               = (known after apply)</p><p>+ revoke_rules_on_delete = false</p><p>+ tags                   = {</p><p>+ "Name" = "example-dev-internal-sg"</p><p>}</p><p>+ tags_all               = {</p><p>+ "Name" = "example-dev-internal-sg"</p><p>}</p><p>+ vpc_id                 = (known after apply)</p><p>}</p><p></p><p># module.internal_sg.aws_security_group_rule.egress will be created</p><p>+ resource "aws_security_group_rule" "egress" {</p><p>+ cidr_blocks              = [</p><p>+ "0.0.0.0/0",</p><p>]</p><p>+ from_port                = 0</p><p>+ id                       = (known after apply)</p><p>+ protocol                 = "-1"</p><p>+ security_group_id        = (known after apply)</p><p>+ security_group_rule_id   = (known after apply)</p><p>+ self                     = false</p><p>+ source_security_group_id = (known after apply)</p><p>+ to_port                  = 0</p><p>+ type                     = "egress"</p><p>}</p><p></p><p># module.internal_sg.aws_security_group_rule.ingress will be created</p><p>+ resource "aws_security_group_rule" "ingress" {</p><p>+ cidr_blocks              = [</p><p>+ "10.0.0.0/16",</p><p>]</p><p>+ from_port                = 0</p><p>+ id                       = (known after apply)</p><p>+ protocol                 = "-1"</p><p>+ security_group_id        = (known after apply)</p><p>+ security_group_rule_id   = (known after apply)</p><p>+ self                     = false</p><p>+ source_security_group_id = (known after apply)</p><p>+ to_port                  = 0</p><p>+ type                     = "ingress"</p><p>}</p><p></p><p># module.network.aws_internet_gateway.internet_gateway will be created</p><p>+ resource "aws_internet_gateway" "internet_gateway" {</p><p>+ arn      = (known after apply)</p><p>+ id       = (known after apply)</p><p>+ owner_id = (known after apply)</p><p>+ tags     = {</p><p>+ "Name" = "example-dev-igw"</p><p>}</p><p>+ tags_all = {</p><p>+ "Name" = "example-dev-igw"</p><p>}</p><p>+ vpc_id   = (known after apply)</p><p>}</p><p></p><p># module.network.aws_route.public_internet_gateway["public-1a"] will be created</p><p>+ resource "aws_route" "public_internet_gateway" {</p><p>+ destination_cidr_block = "0.0.0.0/0"</p><p>+ gateway_id             = (known after apply)</p><p>+ id                     = (known after apply)</p><p>+ instance_id            = (known after apply)</p><p>+ instance_owner_id      = (known after apply)</p><p>+ network_interface_id   = (known after apply)</p><p>+ origin                 = (known after apply)</p><p>+ route_table_id         = (known after apply)</p><p>+ state                  = (known after apply)</p><p>}</p><p></p><p># module.network.aws_route.public_internet_gateway["public-1c"] will be created</p><p>+ resource "aws_route" "public_internet_gateway" {</p><p>+ destination_cidr_block = "0.0.0.0/0"</p><p>+ gateway_id             = (known after apply)</p><p>+ id                     = (known after apply)</p><p>+ instance_id            = (known after apply)</p><p>+ instance_owner_id      = (known after apply)</p><p>+ network_interface_id   = (known after apply)</p><p>+ origin                 = (known after apply)</p><p>+ route_table_id         = (known after apply)</p><p>+ state                  = (known after apply)</p><p>}</p><p></p><p># module.network.aws_route_table.private_route_tables["private-1a"] will be created</p><p>+ resource "aws_route_table" "private_route_tables" {</p><p>+ arn              = (known after apply)</p><p>+ id               = (known after apply)</p><p>+ owner_id         = (known after apply)</p><p>+ propagating_vgws = (known after apply)</p><p>+ route            = (known after apply)</p><p>+ tags             = {</p><p>+ "Name" = "example-dev-private-rtb-1a"</p><p>}</p><p>+ tags_all         = {</p><p>+ "Name" = "example-dev-private-rtb-1a"</p><p>}</p><p>+ vpc_id           = (known after apply)</p><p>}</p><p></p><p># module.network.aws_route_table.private_route_tables["private-1c"] will be created</p><p>+ resource "aws_route_table" "private_route_tables" {</p><p>+ arn              = (known after apply)</p><p>+ id               = (known after apply)</p><p>+ owner_id         = (known after apply)</p><p>+ propagating_vgws = (known after apply)</p><p>+ route            = (known after apply)</p><p>+ tags             = {</p><p>+ "Name" = "example-dev-private-rtb-1c"</p><p>}</p><p>+ tags_all         = {</p><p>+ "Name" = "example-dev-private-rtb-1c"</p><p>}</p><p>+ vpc_id           = (known after apply)</p><p>}</p><p></p><p># module.network.aws_route_table.public_route_tables["public-1a"] will be created</p><p>+ resource "aws_route_table" "public_route_tables" {</p><p>+ arn              = (known after apply)</p><p>+ id               = (known after apply)</p><p>+ owner_id         = (known after apply)</p><p>+ propagating_vgws = (known after apply)</p><p>+ route            = (known after apply)</p><p>+ tags             = {</p><p>+ "Name" = "example-dev-pubic-rtb-1a"</p><p>}</p><p>+ tags_all         = {</p><p>+ "Name" = "example-dev-pubic-rtb-1a"</p><p>}</p><p>+ vpc_id           = (known after apply)</p><p>}</p><p></p><p># module.network.aws_route_table.public_route_tables["public-1c"] will be created</p><p>+ resource "aws_route_table" "public_route_tables" {</p><p>+ arn              = (known after apply)</p><p>+ id               = (known after apply)</p><p>+ owner_id         = (known after apply)</p><p>+ propagating_vgws = (known after apply)</p><p>+ route            = (known after apply)</p><p>+ tags             = {</p><p>+ "Name" = "example-dev-pubic-rtb-1c"</p><p>}</p><p>+ tags_all         = {</p><p>+ "Name" = "example-dev-pubic-rtb-1c"</p><p>}</p><p>+ vpc_id           = (known after apply)</p><p>}</p><p></p><p># module.network.aws_route_table_association.private_route_associations["private-1a"] will be created</p><p>+ resource "aws_route_table_association" "private_route_associations" {</p><p>+ id             = (known after apply)</p><p>+ route_table_id = (known after apply)</p><p>+ subnet_id      = (known after apply)</p><p>}</p><p></p><p># module.network.aws_route_table_association.private_route_associations["private-1c"] will be created</p><p>+ resource "aws_route_table_association" "private_route_associations" {</p><p>+ id             = (known after apply)</p><p>+ route_table_id = (known after apply)</p><p>+ subnet_id      = (known after apply)</p><p>}</p><p></p><p># module.network.aws_route_table_association.public_route_associations["public-1a"] will be created</p><p>+ resource "aws_route_table_association" "public_route_associations" {</p><p>+ id             = (known after apply)</p><p>+ route_table_id = (known after apply)</p><p>+ subnet_id      = (known after apply)</p><p>}</p><p></p><p># module.network.aws_route_table_association.public_route_associations["public-1c"] will be created</p><p>+ resource "aws_route_table_association" "public_route_associations" {</p><p>+ id             = (known after apply)</p><p>+ route_table_id = (known after apply)</p><p>+ subnet_id      = (known after apply)</p><p>}</p><p></p><p># module.network.aws_subnet.private_subnets["private-1a"] will be created</p><p>+ resource "aws_subnet" "private_subnets" {</p><p>+ arn                                            = (known after apply)</p><p>+ assign_ipv6_address_on_creation                = false</p><p>+ availability_zone                              = "ap-northeast-1a"</p><p>+ availability_zone_id                           = (known after apply)</p><p>+ cidr_block                                     = "10.0.20.0/24"</p><p>+ enable_dns64                                   = false</p><p>+ enable_resource_name_dns_a_record_on_launch    = false</p><p>+ enable_resource_name_dns_aaaa_record_on_launch = false</p><p>+ id                                             = (known after apply)</p><p>+ ipv6_cidr_block_association_id                 = (known after apply)</p><p>+ ipv6_native                                    = false</p><p>+ map_public_ip_on_launch                        = false</p><p>+ owner_id                                       = (known after apply)</p><p>+ private_dns_hostname_type_on_launch            = (known after apply)</p><p>+ tags                                           = {</p><p>+ "Name" = "example-dev-private-1a"</p><p>}</p><p>+ tags_all                                       = {</p><p>+ "Name" = "example-dev-private-1a"</p><p>}</p><p>+ vpc_id                                         = (known after apply)</p><p>}</p><p></p><p># module.network.aws_subnet.private_subnets["private-1c"] will be created</p><p>+ resource "aws_subnet" "private_subnets" {</p><p>+ arn                                            = (known after apply)</p><p>+ assign_ipv6_address_on_creation                = false</p><p>+ availability_zone                              = "ap-northeast-1c"</p><p>+ availability_zone_id                           = (known after apply)</p><p>+ cidr_block                                     = "10.0.40.0/24"</p><p>+ enable_dns64                                   = false</p><p>+ enable_resource_name_dns_a_record_on_launch    = false</p><p>+ enable_resource_name_dns_aaaa_record_on_launch = false</p><p>+ id                                             = (known after apply)</p><p>+ ipv6_cidr_block_association_id                 = (known after apply)</p><p>+ ipv6_native                                    = false</p><p>+ map_public_ip_on_launch                        = false</p><p>+ owner_id                                       = (known after apply)</p><p>+ private_dns_hostname_type_on_launch            = (known after apply)</p><p>+ tags                                           = {</p><p>+ "Name" = "example-dev-private-1c"</p><p>}</p><p>+ tags_all                                       = {</p><p>+ "Name" = "example-dev-private-1c"</p><p>}</p><p>+ vpc_id                                         = (known after apply)</p><p>}</p><p></p><p># module.network.aws_subnet.public_subnets["public-1a"] will be created</p><p>+ resource "aws_subnet" "public_subnets" {</p><p>+ arn                                            = (known after apply)</p><p>+ assign_ipv6_address_on_creation                = false</p><p>+ availability_zone                              = "ap-northeast-1a"</p><p>+ availability_zone_id                           = (known after apply)</p><p>+ cidr_block                                     = "10.0.10.0/24"</p><p>+ enable_dns64                                   = false</p><p>+ enable_resource_name_dns_a_record_on_launch    = false</p><p>+ enable_resource_name_dns_aaaa_record_on_launch = false</p><p>+ id                                             = (known after apply)</p><p>+ ipv6_cidr_block_association_id                 = (known after apply)</p><p>+ ipv6_native                                    = false</p><p>+ map_public_ip_on_launch                        = true</p><p>+ owner_id                                       = (known after apply)</p><p>+ private_dns_hostname_type_on_launch            = (known after apply)</p><p>+ tags                                           = {</p><p>+ "Name" = "example-dev-public-1a"</p><p>}</p><p>+ tags_all                                       = {</p><p>+ "Name" = "example-dev-public-1a"</p><p>}</p><p>+ vpc_id                                         = (known after apply)</p><p>}</p><p></p><p># module.network.aws_subnet.public_subnets["public-1c"] will be created</p><p>+ resource "aws_subnet" "public_subnets" {</p><p>+ arn                                            = (known after apply)</p><p>+ assign_ipv6_address_on_creation                = false</p><p>+ availability_zone                              = "ap-northeast-1c"</p><p>+ availability_zone_id                           = (known after apply)</p><p>+ cidr_block                                     = "10.0.30.0/24"</p><p>+ enable_dns64                                   = false</p><p>+ enable_resource_name_dns_a_record_on_launch    = false</p><p>+ enable_resource_name_dns_aaaa_record_on_launch = false</p><p>+ id                                             = (known after apply)</p><p>+ ipv6_cidr_block_association_id                 = (known after apply)</p><p>+ ipv6_native                                    = false</p><p>+ map_public_ip_on_launch                        = true</p><p>+ owner_id                                       = (known after apply)</p><p>+ private_dns_hostname_type_on_launch            = (known after apply)</p><p>+ tags                                           = {</p><p>+ "Name" = "example-dev-public-1c"</p><p>}</p><p>+ tags_all                                       = {</p><p>+ "Name" = "example-dev-public-1c"</p><p>}</p><p>+ vpc_id                                         = (known after apply)</p><p>}</p><p></p><p># module.network.aws_vpc.vpc will be created</p><p>+ resource "aws_vpc" "vpc" {</p><p>+ arn                                  = (known after apply)</p><p>+ cidr_block                           = "10.0.0.0/16"</p><p>+ default_network_acl_id               = (known after apply)</p><p>+ default_route_table_id               = (known after apply)</p><p>+ default_security_group_id            = (known after apply)</p><p>+ dhcp_options_id                      = (known after apply)</p><p>+ enable_classiclink                   = (known after apply)</p><p>+ enable_classiclink_dns_support       = (known after apply)</p><p>+ enable_dns_hostnames                 = true</p><p>+ enable_dns_support                   = true</p><p>+ enable_network_address_usage_metrics = (known after apply)</p><p>+ id                                   = (known after apply)</p><p>+ instance_tenancy                     = "default"</p><p>+ ipv6_association_id                  = (known after apply)</p><p>+ ipv6_cidr_block                      = (known after apply)</p><p>+ ipv6_cidr_block_network_border_group = (known after apply)</p><p>+ main_route_table_id                  = (known after apply)</p><p>+ owner_id                             = (known after apply)</p><p>+ tags                                 = {</p><p>+ "Name" = "example-dev-vpc"</p><p>}</p><p>+ tags_all                             = {</p><p>+ "Name" = "example-dev-vpc"</p><p>}</p><p>}</p><p></p><p># module.operation_sg_1.aws_security_group.default will be created</p><p>+ resource "aws_security_group" "default" {</p><p>+ arn                    = (known after apply)</p><p>+ description            = "Managed by Terraform"</p><p>+ egress                 = (known after apply)</p><p>+ id                     = (known after apply)</p><p>+ ingress                = (known after apply)</p><p>+ name                   = "example-dev-operation_1-sg"</p><p>+ name_prefix            = (known after apply)</p><p>+ owner_id               = (known after apply)</p><p>+ revoke_rules_on_delete = false</p><p>+ tags                   = {</p><p>+ "Name" = "example-dev-operation_1-sg"</p><p>}</p><p>+ tags_all               = {</p><p>+ "Name" = "example-dev-operation_1-sg"</p><p>}</p><p>+ vpc_id                 = (known after apply)</p><p>}</p><p></p><p># module.operation_sg_1.aws_security_group_rule.egress will be created</p><p>+ resource "aws_security_group_rule" "egress" {</p><p>+ cidr_blocks              = [</p><p>+ "0.0.0.0/0",</p><p>]</p><p>+ from_port                = 0</p><p>+ id                       = (known after apply)</p><p>+ protocol                 = "-1"</p><p>+ security_group_id        = (known after apply)</p><p>+ security_group_rule_id   = (known after apply)</p><p>+ self                     = false</p><p>+ source_security_group_id = (known after apply)</p><p>+ to_port                  = 0</p><p>+ type                     = "egress"</p><p>}</p><p></p><p># module.operation_sg_1.aws_security_group_rule.ingress will be created</p><p>+ resource "aws_security_group_rule" "ingress" {</p><p>+ cidr_blocks              = [</p><p>+ "0.0.0.0/0",</p><p>]</p><p>+ from_port                = 22</p><p>+ id                       = (known after apply)</p><p>+ protocol                 = "tcp"</p><p>+ security_group_id        = (known after apply)</p><p>+ security_group_rule_id   = (known after apply)</p><p>+ self                     = false</p><p>+ source_security_group_id = (known after apply)</p><p>+ to_port                  = 22</p><p>+ type                     = "ingress"</p><p>}</p><p></p><p># module.operation_sg_2.aws_security_group.default will be created</p><p>+ resource "aws_security_group" "default" {</p><p>+ arn                    = (known after apply)</p><p>+ description            = "Managed by Terraform"</p><p>+ egress                 = (known after apply)</p><p>+ id                     = (known after apply)</p><p>+ ingress                = (known after apply)</p><p>+ name                   = "example-dev-operation_2-sg"</p><p>+ name_prefix            = (known after apply)</p><p>+ owner_id               = (known after apply)</p><p>+ revoke_rules_on_delete = false</p><p>+ tags                   = {</p><p>+ "Name" = "example-dev-operation_2-sg"</p><p>}</p><p>+ tags_all               = {</p><p>+ "Name" = "example-dev-operation_2-sg"</p><p>}</p><p>+ vpc_id                 = (known after apply)</p><p>}</p><p></p><p># module.operation_sg_2.aws_security_group_rule.egress will be created</p><p>+ resource "aws_security_group_rule" "egress" {</p><p>+ cidr_blocks              = [</p><p>+ "0.0.0.0/0",</p><p>]</p><p>+ from_port                = 0</p><p>+ id                       = (known after apply)</p><p>+ protocol                 = "-1"</p><p>+ security_group_id        = (known after apply)</p><p>+ security_group_rule_id   = (known after apply)</p><p>+ self                     = false</p><p>+ source_security_group_id = (known after apply)</p><p>+ to_port                  = 0</p><p>+ type                     = "egress"</p><p>}</p><p></p><p># module.operation_sg_2.aws_security_group_rule.ingress will be created</p><p>+ resource "aws_security_group_rule" "ingress" {</p><p>+ cidr_blocks              = [</p><p>+ "0.0.0.0/0",</p><p>]</p><p>+ from_port                = 22</p><p>+ id                       = (known after apply)</p><p>+ protocol                 = "tcp"</p><p>+ security_group_id        = (known after apply)</p><p>+ security_group_rule_id   = (known after apply)</p><p>+ self                     = false</p><p>+ source_security_group_id = (known after apply)</p><p>+ to_port                  = 22</p><p>+ type                     = "ingress"</p><p>}</p><p></p><p># module.operation_sg_3.aws_security_group.default will be created</p><p>+ resource "aws_security_group" "default" {</p><p>+ arn                    = (known after apply)</p><p>+ description            = "Managed by Terraform"</p><p>+ egress                 = (known after apply)</p><p>+ id                     = (known after apply)</p><p>+ ingress                = (known after apply)</p><p>+ name                   = "example-dev-operation_3-sg"</p><p>+ name_prefix            = (known after apply)</p><p>+ owner_id               = (known after apply)</p><p>+ revoke_rules_on_delete = false</p><p>+ tags                   = {</p><p>+ "Name" = "example-dev-operation_3-sg"</p><p>}</p><p>+ tags_all               = {</p><p>+ "Name" = "example-dev-operation_3-sg"</p><p>}</p><p>+ vpc_id                 = (known after apply)</p><p>}</p><p></p><p># module.operation_sg_3.aws_security_group_rule.egress will be created</p><p>+ resource "aws_security_group_rule" "egress" {</p><p>+ cidr_blocks              = [</p><p>+ "0.0.0.0/0",</p><p>]</p><p>+ from_port                = 0</p><p>+ id                       = (known after apply)</p><p>+ protocol                 = "-1"</p><p>+ security_group_id        = (known after apply)</p><p>+ security_group_rule_id   = (known after apply)</p><p>+ self                     = false</p><p>+ source_security_group_id = (known after apply)</p><p>+ to_port                  = 0</p><p>+ type                     = "egress"</p><p>}</p><p></p><p># module.operation_sg_3.aws_security_group_rule.ingress will be created</p><p>+ resource "aws_security_group_rule" "ingress" {</p><p>+ cidr_blocks              = [</p><p>+ "0.0.0.0/0",</p><p>]</p><p>+ from_port                = 22</p><p>+ id                       = (known after apply)</p><p>+ protocol                 = "tcp"</p><p>+ security_group_id        = (known after apply)</p><p>+ security_group_rule_id   = (known after apply)</p><p>+ self                     = false</p><p>+ source_security_group_id = (known after apply)</p><p>+ to_port                  = 22</p><p>+ type                     = "ingress"</p><p>}</p><p></p><p># module.s3_alb_access_log.data.aws_iam_policy_document.iam_policy_alb_access_log will be read during apply</p><p># (config refers to values not yet known)</p><p><= data "aws_iam_policy_document" "iam_policy_alb_access_log" {</p><p>+ id   = (known after apply)</p><p>+ json = (known after apply)</p><p></p><p>+ statement {</p><p>+ actions   = [</p><p>+ "s3:PutObject",</p><p>]</p><p>+ effect    = "Allow"</p><p>+ resources = [</p><p>+ (known after apply),</p><p>]</p><p></p><p>+ principals {</p><p>+ identifiers = [</p><p>+ "arn:aws:iam::582318560864:root",</p><p>]</p><p>+ type        = "AWS"</p><p>}</p><p>}</p><p>}</p><p></p><p># module.s3_alb_access_log.aws_s3_bucket.bucket_alb_access_log will be created</p><p>+ resource "aws_s3_bucket" "bucket_alb_access_log" {</p><p>+ acceleration_status         = (known after apply)</p><p>+ acl                         = (known after apply)</p><p>+ arn                         = (known after apply)</p><p>+ bucket                      = "example-dev-alb-accesslog-bucket"</p><p>+ bucket_domain_name          = (known after apply)</p><p>+ bucket_regional_domain_name = (known after apply)</p><p>+ force_destroy               = true</p><p>+ hosted_zone_id              = (known after apply)</p><p>+ id                          = (known after apply)</p><p>+ object_lock_enabled         = (known after apply)</p><p>+ policy                      = (known after apply)</p><p>+ region                      = (known after apply)</p><p>+ request_payer               = (known after apply)</p><p>+ tags                        = {</p><p>+ "Name" = "example-dev-alb-accesslog-bucket"</p><p>}</p><p>+ tags_all                    = {</p><p>+ "Name" = "example-dev-alb-accesslog-bucket"</p><p>}</p><p>+ website_domain              = (known after apply)</p><p>+ website_endpoint            = (known after apply)</p><p></p><p>+ cors_rule {</p><p>+ allowed_headers = (known after apply)</p><p>+ allowed_methods = (known after apply)</p><p>+ allowed_origins = (known after apply)</p><p>+ expose_headers  = (known after apply)</p><p>+ max_age_seconds = (known after apply)</p><p>}</p><p></p><p>+ grant {</p><p>+ id          = (known after apply)</p><p>+ permissions = (known after apply)</p><p>+ type        = (known after apply)</p><p>+ uri         = (known after apply)</p><p>}</p><p></p><p>+ lifecycle_rule {</p><p>+ abort_incomplete_multipart_upload_days = (known after apply)</p><p>+ enabled                                = (known after apply)</p><p>+ id                                     = (known after apply)</p><p>+ prefix                                 = (known after apply)</p><p>+ tags                                   = (known after apply)</p><p></p><p>+ expiration {</p><p>+ date                         = (known after apply)</p><p>+ days                         = (known after apply)</p><p>+ expired_object_delete_marker = (known after apply)</p><p>}</p><p></p><p>+ noncurrent_version_expiration {</p><p>+ days = (known after apply)</p><p>}</p><p></p><p>+ noncurrent_version_transition {</p><p>+ days          = (known after apply)</p><p>+ storage_class = (known after apply)</p><p>}</p><p></p><p>+ transition {</p><p>+ date          = (known after apply)</p><p>+ days          = (known after apply)</p><p>+ storage_class = (known after apply)</p><p>}</p><p>}</p><p></p><p>+ logging {</p><p>+ target_bucket = (known after apply)</p><p>+ target_prefix = (known after apply)</p><p>}</p><p></p><p>+ object_lock_configuration {</p><p>+ object_lock_enabled = (known after apply)</p><p></p><p>+ rule {</p><p>+ default_retention {</p><p>+ days  = (known after apply)</p><p>+ mode  = (known after apply)</p><p>+ years = (known after apply)</p><p>}</p><p>}</p><p>}</p><p></p><p>+ replication_configuration {</p><p>+ role = (known after apply)</p><p></p><p>+ rules {</p><p>+ delete_marker_replication_status = (known after apply)</p><p>+ id                               = (known after apply)</p><p>+ prefix                           = (known after apply)</p><p>+ priority                         = (known after apply)</p><p>+ status                           = (known after apply)</p><p></p><p>+ destination {</p><p>+ account_id         = (known after apply)</p><p>+ bucket             = (known after apply)</p><p>+ replica_kms_key_id = (known after apply)</p><p>+ storage_class      = (known after apply)</p><p></p><p>+ access_control_translation {</p><p>+ owner = (known after apply)</p><p>}</p><p></p><p>+ metrics {</p><p>+ minutes = (known after apply)</p><p>+ status  = (known after apply)</p><p>}</p><p></p><p>+ replication_time {</p><p>+ minutes = (known after apply)</p><p>+ status  = (known after apply)</p><p>}</p><p>}</p><p></p><p>+ filter {</p><p>+ prefix = (known after apply)</p><p>+ tags   = (known after apply)</p><p>}</p><p></p><p>+ source_selection_criteria {</p><p>+ sse_kms_encrypted_objects {</p><p>+ enabled = (known after apply)</p><p>}</p><p>}</p><p>}</p><p>}</p><p></p><p>+ server_side_encryption_configuration {</p><p>+ rule {</p><p>+ bucket_key_enabled = (known after apply)</p><p></p><p>+ apply_server_side_encryption_by_default {</p><p>+ kms_master_key_id = (known after apply)</p><p>+ sse_algorithm     = (known after apply)</p><p>}</p><p>}</p><p>}</p><p></p><p>+ versioning {</p><p>+ enabled    = (known after apply)</p><p>+ mfa_delete = (known after apply)</p><p>}</p><p></p><p>+ website {</p><p>+ error_document           = (known after apply)</p><p>+ index_document           = (known after apply)</p><p>+ redirect_all_requests_to = (known after apply)</p><p>+ routing_rules            = (known after apply)</p><p>}</p><p>}</p><p></p><p># module.s3_alb_access_log.aws_s3_bucket_policy.bucket_policy_alb_access_log will be created</p><p>+ resource "aws_s3_bucket_policy" "bucket_policy_alb_access_log" {</p><p>+ bucket = (known after apply)</p><p>+ id     = (known after apply)</p><p>+ policy = (known after apply)</p><p>}</p><p></p><p># module.s3_alb_access_log.aws_s3_bucket_public_access_block.bucket_public_access will be created</p><p>+ resource "aws_s3_bucket_public_access_block" "bucket_public_access" {</p><p>+ block_public_acls       = true</p><p>+ block_public_policy     = true</p><p>+ bucket                  = (known after apply)</p><p>+ id                      = (known after apply)</p><p>+ ignore_public_acls      = true</p><p>+ restrict_public_buckets = true</p><p>}</p><p></p><p># module.s3_alb_access_log.aws_s3_bucket_server_side_encryption_configuration.bucket_server_side_encryption will be created</p><p>+ resource "aws_s3_bucket_server_side_encryption_configuration" "bucket_server_side_encryption" {</p><p>+ bucket = (known after apply)</p><p>+ id     = (known after apply)</p><p></p><p>+ rule {</p><p>+ apply_server_side_encryption_by_default {</p><p>+ sse_algorithm = "AES256"</p><p>}</p><p>}</p><p>}</p><p></p><p># module.s3_alb_access_log.aws_s3_bucket_versioning.bucket_versiong will be created</p><p>+ resource "aws_s3_bucket_versioning" "bucket_versiong" {</p><p>+ bucket = (known after apply)</p><p>+ id     = (known after apply)</p><p></p><p>+ versioning_configuration {</p><p>+ mfa_delete = (known after apply)</p><p>+ status     = "Disabled"</p><p>}</p><p>}</p><p></p><p>Plan: 46 to add, 0 to change, 0 to destroy.</p><p></p><p>Changes to Outputs:</p><p>+ alb_http_sg_id     = (known after apply)</p><p>+ alb_https_sg_id    = (known after apply)</p><p>+ instance_ids       = [</p><p>+ (known after apply),</p><p>]</p><p>+ internal_sg_id     = (known after apply)</p><p>+ operation_sg_1_id  = (known after apply)</p><p>+ operation_sg_2_id  = (known after apply)</p><p>+ operation_sg_3_id  = (known after apply)</p><p>+ private_subnet_ids = [</p><p>+ (known after apply),</p><p>+ (known after apply),</p><p>]</p><p>+ public_ip          = [</p><p>+ (known after apply),</p><p>]</p><p>+ public_subnet_ids  = [</p><p>+ (known after apply),</p><p>+ (known after apply),</p><p>]</p><p>+ vpc_id             = (known after apply)</p><p></p><p>─────────────────────────────────────────────────────────────────────────────</p><p></p><p>Note: You didn't use the -out option to save this plan, so Terraform can't</p><p>guarantee to take exactly these actions if you run "terraform apply" now.</p><p></p>